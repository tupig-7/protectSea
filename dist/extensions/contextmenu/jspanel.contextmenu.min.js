"use strict";jsPanel.contextmenu||(jsPanel.contextmenu={version:"1.1.0",date:"2018-11-30 10:30",defaults:{dragit:!1,resizeit:!1,header:!1,headerControls:"none"},cmOverflow:function(e){var t=e.cmEvent.clientX,n=e.cmEvent.clientY,o=e.offsetWidth,s=e.offsetHeight,l=window.innerWidth-(t+o),a=window.innerHeight-(n+s);l<0&&(e.style.left=t+(window.scrollX||window.pageXOffset)-o+"px"),a<0&&(e.style.top=n+(window.scrollY||window.pageYOffset)-s+"px")},create:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contextmenu";t.paneltype="contextmenu";var o=t.target;if(!o)return!1;"string"==typeof o&&(o=document.querySelector(o)),o.addEventListener(n,function(n){n.preventDefault(),document.querySelectorAll(".jsPanel-contextmenu").forEach(function(e){e.close()});var s=(n.pageX||n.touches[0].pageX)+"px",l=(n.pageY||n.touches[0].pageY)+"px",a=t;t.config&&delete(a=Object.assign({},t.config,t)).config,a=Object.assign({},e.defaults,a,{position:!1,container:"body"}),jsPanel.create(a,function(e){jsPanel.setStyle(e,{position:"absolute",left:s,top:l});var t=o.closest(".jsPanel-modal");if(t)e.style.zIndex=t.style.zIndex;else{var a=o.closest(".jsPanel");a&&a.front(),e.style.zIndex=jsPanel.zi.next()}e.cmEvent=n,jsPanel.contextmenu.cmOverflow(e),e.addEventListener("mouseleave",function(){e.close()},!1),e.addEventListener(jsPanel.evtStart,function(e){e.stopPropagation()},!1)})},!1)}},jsPanel.ajaxAlwaysCallbacks.push(function(e){e.classList.contains("jsPanel-contextmenu")&&jsPanel.contextmenu.cmOverflow(e)}),document.addEventListener(jsPanel.pointerdown,function(e){document.querySelectorAll(".jsPanel-contextmenu").forEach(function(t){e.target.closest(".jsPanel-contextmenu")||t.close()})},!1)),"undefined"!=typeof module&&(module.exports=jsPanel);